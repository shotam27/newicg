# カード効果の文言判定リスト

現在の`CardEffects.js`で実装されている効果の文言判定と、`cards.json`に含まれる効果文言の実装状況を整理したリストです。

## 実装済みの効果文言

### 🔹 **侵略効果** (`executeInvasion`)

#### ✅ 完全実装
- `自分が他に侵略持ちを所持している場合` - ハイエナの条件付き侵略
- `一匹疲労させる` / `一体疲労させる` - 基本疲労効果
- `(\d+)IP消費` (正規表現) - IP消費系効果
- `追放する` - 追放効果
- `フントークン` - フントークン関連効果

#### 🔄 部分実装
- IP消費 + 追放の組み合わせ効果

### 🔹 **対象指定侵略効果** (`executeInvasionWithTarget`)

#### ✅ 完全実装
- `自分が他に侵略持ちを所持している場合` - 条件付き対象選択
- `一匹疲労させる` / `一体疲労させる` - 対象指定疲労
- `IP` + `消費` + `追放` - IP消費での対象追放

### 🔹 **強化効果** (`executeEnhancement`)

#### ✅ 完全実装
- `同種を生成` / `同種を一枚生成` - 同種生成
- `追放から` + `獲得` - 追放からの獲得
- `IP消費` - IP消費系強化効果

### 🔹 **反応効果** (`executeReaction`)

#### ✅ 完全実装
- `IP[＋+](\d+)` (正規表現) - IP増加効果（IP+2, IP+5など）
- `疲労を取り除く` - 疲労回復効果

### 🔹 **獲得時効果** (`executeOnAcquire`)

#### ✅ 完全実装
- `このカードを回復` - カード回復
- `[＋+](\d+)IP` (正規表現) - IP獲得効果（+1IP, +5IPなど）
- `中立に` + `生成` - 中立フィールド生成

### 🔹 **追放時効果** (`executeOnExile`)

#### ✅ 完全実装
- `IP[＋+](\d+)` (正規表現) - IP増加効果

### 🔹 **勝利条件** (`checkVictoryCondition`)

#### ✅ 完全実装
- `IP40` / `IP40以上` - IP系勝利条件
- `自フィールドが?(\d+)枚以上` (正規表現) - フィールド枚数系
- `水棲持ちが8体` - 特性持ち枚数系
- `条件なし` - 無条件勝利

#### 🔄 部分実装（要実装）
- `侵略した回数が` - 侵略回数系（現在は常にfalse）

### 🔹 **その他の効果**

#### ✅ 完全実装
- **フントークン生成**: `フントークンを生成`
- **中立生成**: `中立に` + `生成`

## cards.jsonに含まれる効果文言の分析

### 📊 **文言使用頻度の高い効果**

#### **疲労関連**
- ✅ `一匹疲労させる。` - 完全実装
- ✅ `一体疲労させる。` - 完全実装  
- ✅ `一匹疲労させる` (句点なし) - 完全実装
- ⚠️ `2体疲労させる` - 要実装
- ⚠️ `同種を一枚疲労させ` - 要実装

#### **IP関連**
- ✅ `IP＋2` - 完全実装
- ✅ `IP＋5` - 完全実装  
- ✅ `IP＋3` - 完全実装
- ✅ `増加IP＋1` - 完全実装
- ✅ `IP10消費し` - 完全実装
- ✅ `5IP消費し` - 完全実装
- ⚠️ `自分のIPを3消費し` - 要実装
- ⚠️ `自分のIPを5消費し` - 要実装
- ⚠️ `増加IP2消費し` - 要実装

#### **生成・獲得関連**
- ✅ `同種を一枚生成する。` - 完全実装
- ✅ `追放から一匹獲得する` - 完全実装
- ⚠️ `同種を獲得する` - 要実装
- ⚠️ `ハチを獲得する` - 要実装

#### **追放関連**
- ✅ `一匹追放する` - 完全実装
- ✅ `一体追放する` - 完全実装
- ⚠️ `疲労済を追放する` - 要実装
- ⚠️ `疲労済を一体追放する` - 要実装

#### **回復関連**
- ✅ `このカードを回復する。` - 完全実装
- ⚠️ `中立フィールドの同種を回復する` - 要実装
- ⚠️ `自身の疲労取り除く` - 要実装

#### **条件・勝利関連**
- ✅ `条件なし` - 完全実装
- ✅ `IP40以上` - 完全実装
- ✅ `自フィールドにカードが10枚ある場合` - 完全実装
- ⚠️ `１ラウンドで侵略した回数が6を超えていた場合` - 要実装
- ⚠️ `同じターンに６回侵略した場合` - 要実装

### 🚨 **未実装の複雑な効果**

#### **特殊効果**
- ❌ `自分の反応持ちカードの効果を発動できる` - 要実装
- ❌ `相手の侵略持ちカードを発動させる` - 要実装
- ❌ `破棄したカードを相手フィールドに生成する` - 要実装
- ❌ `相手フィールドにMアカミミガメを一体生成する` - 要実装

#### **条件付き効果**
- ❌ `自フィールドに同種がいない場合` - 要実装
- ❌ `自フィールドに反応持ちがいる場合` - 要実装
- ❌ `相手のフィールドにフントークンがある場合` - 要実装

#### **時限効果**
- ❌ `ラウンド終了時` - 要実装
- ❌ `１ターンに一度のみ` - 要実装
- ❌ `この効果で疲労しない` - 要実装

#### **中立・水棲関連**
- ❌ `中立にホオジロサメがいない場合` - 要実装
- ❌ `中立にジュゴンがいない場合` - 要実装
- ❌ `獲得時、IP＋5` - 要実装

## 実装優先度

### 🔥 **高優先度**（よく使われる基本効果）
1. `同種を一枚疲労させ` - 同種疲労
2. `疲労済を追放する` - 疲労済追放
3. `自分のIPを(\d+)消費し` - 自分IP消費
4. `この効果で疲労しない` - 疲労回避
5. `中立フィールドの同種を回復する` - 同種回復

### 🔶 **中優先度**（特殊だが重要）
1. `自分の反応持ちカードの効果を発動できる` - 反応効果発動
2. `１ラウンドで侵略した回数が6を超えていた場合` - 侵略回数勝利
3. `ラウンド終了時` - 時限効果
4. `自フィールドに～がいる場合` - 条件付き効果

### 🔷 **低優先度**（特殊・複雑）
1. 中立フィールドの特定カード生成・検索
2. 相手フィールドへのカード生成
3. 破棄・除外系効果
4. 複数条件組み合わせ効果

## 使用方法

この文言リストを使って、新しい効果を実装する際は：

1. **`cards.json`の効果文言**を確認
2. **このリストで実装状況**をチェック  
3. **未実装の場合**は`CardEffects.js`の該当メソッドに文言判定を追加
4. **正規表現が必要**な数値系効果は`match()`を使用
5. **複雑な効果**は新しいヘルパーメソッドの作成を検討

実装時は文言の表記ゆれ（句点の有無、全角半角、漢字ひらがな）に注意が必要です。
